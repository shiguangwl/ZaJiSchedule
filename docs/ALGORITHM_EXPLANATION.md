# ç®—æ³•è¯¦è§£

## ğŸ“‹ ç›®å½•

- [æ¦‚è¿°](#æ¦‚è¿°)
- [æ»šåŠ¨çª—å£ç®—æ³•](#æ»šåŠ¨çª—å£ç®—æ³•)
- [é…é¢è®¡ç®—ç®—æ³•](#é…é¢è®¡ç®—ç®—æ³•)
- [å®‰å…¨é™åˆ¶ç®—æ³•](#å®‰å…¨é™åˆ¶ç®—æ³•)
- [å®Œæ•´ç¤ºä¾‹](#å®Œæ•´ç¤ºä¾‹)
- [è¾¹ç•Œæƒ…å†µå¤„ç†](#è¾¹ç•Œæƒ…å†µå¤„ç†)

---

## æ¦‚è¿°

æœ¬ç³»ç»Ÿä½¿ç”¨**æ»šåŠ¨çª—å£é…é¢ç®¡ç†ç®—æ³•**æ¥ç¡®ä¿ CPU ä½¿ç”¨ç‡ä¸è¶…è¿‡é™åˆ¶ã€‚

### æ ¸å¿ƒæ€æƒ³

1. **æ»šåŠ¨çª—å£**ï¼šå›ºå®šçª—å£å¼€å§‹æ—¶é—´ï¼ˆå¦‚æ¯å¤©00:00ï¼‰ï¼ŒæŒç»­ç›‘æ§çª—å£å†…çš„å¹³å‡ CPU ä½¿ç”¨ç‡
2. **é…é¢ç®¡ç†**ï¼šå°† CPU ä½¿ç”¨è§†ä¸º"é…é¢"ï¼Œè·Ÿè¸ªå·²ç”¨å’Œå‰©ä½™
3. **æœ€ä½è´Ÿè½½é¢„ç•™**ï¼šä¼˜å…ˆä¿è¯å‰©ä½™æ—¶é—´çš„æœ€ä½è´Ÿè½½é…é¢
4. **åŠ¨æ€è°ƒæ•´**ï¼šå‰©ä½™é…é¢åŠ¨æ€åˆ†é…ï¼Œsafe_limit = min_load + åŠ¨æ€éƒ¨åˆ†

### å…³é”®æ¦‚å¿µ

- **çª—å£æ—¶é•¿**ï¼šç›‘æ§çš„æ—¶é—´èŒƒå›´ï¼ˆå¦‚ 24 å°æ—¶ï¼‰
- **çª—å£å¼€å§‹æ—¶é—´**ï¼šå›ºå®šçš„çª—å£å¼€å§‹æ—¶é—´ï¼ˆå¦‚ 00:00ï¼Œå¯é…ç½®ï¼‰
- **å¹³å‡é™åˆ¶**ï¼šçª—å£å†…çš„å¹³å‡ CPU ä¸èƒ½è¶…è¿‡çš„å€¼ï¼ˆå¦‚ 30%ï¼‰
- **æœ€ä½è´Ÿè½½**ï¼šç³»ç»Ÿä¿è¯çš„æœ€ä½è¿è¡Œè´Ÿè½½ï¼ˆå¦‚ 10%ï¼‰
- **é…é¢**ï¼šç”¨"ç™¾åˆ†æ¯”Â·åˆ†é’Ÿ"ä½œä¸ºå•ä½ï¼Œè¡¨ç¤º CPU ä½¿ç”¨é‡
- **æ»šåŠ¨**ï¼šçª—å£æ¯å¤©å›ºå®šæ—¶é—´é‡ç½®ï¼Œç¡®ä¿ä¸ä¼šè¶…é™

---

## æ»šåŠ¨çª—å£ç®—æ³•

### æ»‘åŠ¨çª—å£ vs æ»šåŠ¨çª—å£

#### æ»‘åŠ¨çª—å£ï¼ˆæ—§ç‰ˆæœ¬ï¼Œå·²åºŸå¼ƒï¼‰

```
æ—¶é—´è½´: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º
        -24h    -18h    -12h    -6h     ç°åœ¨
        â”œâ”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¤
        â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€ æ»‘åŠ¨çª—å£ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚

ä»»æ„æ—¶åˆ»: ç°åœ¨
çª—å£: [ç°åœ¨-24h, ç°åœ¨]
é—®é¢˜: çª—å£æŒç»­ç§»åŠ¨ï¼Œå¯èƒ½å¯¼è‡´é…é¢åˆ†é…ä¸å½“è€Œè¶…é™
```

#### æ»šåŠ¨çª—å£ï¼ˆå½“å‰ç‰ˆæœ¬ï¼‰

```
æ—¶é—´è½´: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º
        00:00   06:00   12:00   18:00   24:00
        â”œâ”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¤
        â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€ æ»šåŠ¨çª—å£ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚

çª—å£å¼€å§‹: 00:00 (å¯é…ç½®)
çª—å£ç»“æŸ: 24:00
çª—å£: [00:00, 24:00]
ä¼˜ç‚¹: çª—å£å›ºå®šï¼Œæ¯å¤©é‡ç½®ï¼Œç»å¯¹ä¿è¯ä¸è¶…é™
```

### å®ç°

```python
def _get_current_window_bounds(self) -> tuple[datetime, datetime]:
    """è·å–å½“å‰æ»šåŠ¨çª—å£çš„å¼€å§‹å’Œç»“æŸæ—¶é—´"""
    now = datetime.now()
    window_start_hour = self.config.window_start_hour  # é»˜è®¤ 0
    window_hours = self.config.rolling_window_hours    # é»˜è®¤ 24

    # è®¡ç®—çª—å£å¼€å§‹æ—¶é—´
    window_start = now.replace(hour=window_start_hour, minute=0, second=0, microsecond=0)

    # å¦‚æœå½“å‰æ—¶é—´åœ¨çª—å£å¼€å§‹æ—¶é—´ä¹‹å‰ï¼Œçª—å£åº”è¯¥æ˜¯å‰ä¸€å¤©çš„
    if now < window_start:
        window_start = window_start - timedelta(days=1)

    # è®¡ç®—çª—å£ç»“æŸæ—¶é—´
    window_end = window_start + timedelta(hours=window_hours)

    return window_start, window_end
```

---

## é…é¢è®¡ç®—ç®—æ³•

### é…é¢çš„æ¦‚å¿µ

**é…é¢** = CPU ä½¿ç”¨ç‡ Ã— æ—¶é—´

**å•ä½**ï¼šç™¾åˆ†æ¯”Â·åˆ†é’Ÿ (%Â·min)

**ç¤ºä¾‹**ï¼š
- 30% CPU è¿è¡Œ 60 åˆ†é’Ÿ = 1800 %Â·min
- 60% CPU è¿è¡Œ 30 åˆ†é’Ÿ = 1800 %Â·min
- 15% CPU è¿è¡Œ 120 åˆ†é’Ÿ = 1800 %Â·min

### æ€»é…é¢

**å®šä¹‰**ï¼šçª—å£æ—¶é•¿å†…å…è®¸ä½¿ç”¨çš„æœ€å¤§é…é¢

**å…¬å¼**ï¼š
```
æ€»é…é¢ = å¹³å‡é™åˆ¶ Ã— çª—å£æ—¶é•¿ï¼ˆåˆ†é’Ÿï¼‰
```

**ç¤ºä¾‹**ï¼š
```
å¹³å‡é™åˆ¶ = 30%
çª—å£æ—¶é•¿ = 24 å°æ—¶ = 1440 åˆ†é’Ÿ
æ€»é…é¢ = 30% Ã— 1440min = 43200 %Â·min
```

**å«ä¹‰**ï¼š
- 24 å°æ—¶å†…ï¼Œæ€»å…±å¯ä»¥ä½¿ç”¨ 43200 %Â·min çš„ CPU
- ç›¸å½“äºï¼š
  - 30% CPU è¿è¡Œ 1440 åˆ†é’Ÿï¼ˆ24 å°æ—¶ï¼‰ï¼Œæˆ–
  - 60% CPU è¿è¡Œ 720 åˆ†é’Ÿï¼ˆ12 å°æ—¶ï¼‰ï¼Œæˆ–
  - 90% CPU è¿è¡Œ 480 åˆ†é’Ÿï¼ˆ8 å°æ—¶ï¼‰

### å·²ç”¨é…é¢

**å®šä¹‰**ï¼šå®é™…å·²ç»ä½¿ç”¨çš„é…é¢

**å…¬å¼**ï¼š
```
å·²ç”¨é…é¢ = å¹³å‡ CPU Ã— å®é™…è¿è¡Œæ—¶é•¿ï¼ˆåˆ†é’Ÿï¼‰
```

**å…³é”®**ï¼šä½¿ç”¨**å®é™…è¿è¡Œæ—¶é•¿**ï¼Œè€Œä¸æ˜¯çª—å£æ—¶é•¿ï¼

**ç¤ºä¾‹**ï¼š
```
è¿è¡Œ 60 åˆ†é’Ÿ:
  å¹³å‡ CPU = 36.5%
  å®é™…è¿è¡Œæ—¶é•¿ = 60 åˆ†é’Ÿ
  å·²ç”¨é…é¢ = 36.5% Ã— 60min = 2190 %Â·min

è¿è¡Œ 720 åˆ†é’Ÿ:
  å¹³å‡ CPU = 35%
  å®é™…è¿è¡Œæ—¶é•¿ = 720 åˆ†é’Ÿ
  å·²ç”¨é…é¢ = 35% Ã— 720min = 25200 %Â·min
```

### å‰©ä½™é…é¢

**å®šä¹‰**ï¼šè¿˜å¯ä»¥ä½¿ç”¨çš„é…é¢

**å…¬å¼**ï¼š
```
å‰©ä½™é…é¢ = æ€»é…é¢ - å·²ç”¨é…é¢
```

**ç¤ºä¾‹**ï¼š
```
æ€»é…é¢ = 43200 %Â·min
å·²ç”¨é…é¢ = 2190 %Â·min
å‰©ä½™é…é¢ = 43200 - 2190 = 41010 %Â·min
```

**å«ä¹‰**ï¼š
- æ­£æ•°ï¼šè¿˜æœ‰ä½™é‡ï¼Œæœªè¶…é™
- è´Ÿæ•°ï¼šå·²è¶…é™ï¼Œéœ€è¦é™ä½ CPU ä½¿ç”¨

### å®é™…è¿è¡Œæ—¶é•¿

**å®šä¹‰**ï¼šä»ç¬¬ä¸€ä¸ªæ•°æ®ç‚¹åˆ°ç°åœ¨çš„æ—¶é—´

**å…¬å¼**ï¼š
```
å®é™…è¿è¡Œæ—¶é•¿ï¼ˆåˆ†é’Ÿï¼‰ = (ç°åœ¨ - ç¬¬ä¸€ä¸ªæ•°æ®ç‚¹çš„æ—¶é—´) / 60
```

**ç¤ºä¾‹**ï¼š
```
ç¬¬ä¸€ä¸ªæ•°æ®ç‚¹: 2025-10-22 16:05:27
ç°åœ¨: 2025-10-22 17:08:39
å®é™…è¿è¡Œæ—¶é•¿ = 63 åˆ†é’Ÿ (1.05 å°æ—¶)
```

**æ³¨æ„**ï¼š
- å¦‚æœè¿è¡Œæ—¶é•¿ < çª—å£æ—¶é•¿ï¼Œä½¿ç”¨å®é™…è¿è¡Œæ—¶é•¿
- å¦‚æœè¿è¡Œæ—¶é•¿ >= çª—å£æ—¶é•¿ï¼Œçª—å£å·²æ»¡ï¼Œä½¿ç”¨çª—å£æ—¶é•¿

---

## å®‰å…¨é™åˆ¶ç®—æ³•

### æ ¸å¿ƒé€»è¾‘

**å®šä¹‰**ï¼šåŸºäºå‰©ä½™é…é¢å’Œæœ€ä½è´Ÿè½½é¢„ç•™è®¡ç®—å®‰å…¨é™åˆ¶

**å…¬å¼**ï¼š
```
# 1. è®¡ç®—æœªæ¥éœ€è¦çš„æœ€ä½è´Ÿè½½é…é¢
future_min_quota = min_load Ã— remaining_minutes

# 2. åˆ¤æ–­å‰©ä½™é…é¢æ˜¯å¦å……è¶³
if remaining_quota <= 0:
    safe_limit = min_load  # é…é¢è€—å°½ï¼Œä½¿ç”¨æœ€ä½è´Ÿè½½
elif remaining_quota < future_min_quota:
    safe_limit = min_load  # é…é¢ä¸è¶³ï¼Œä½¿ç”¨æœ€ä½è´Ÿè½½
else:
    # é…é¢å……è¶³ï¼Œå¯ä»¥åˆ†é…åŠ¨æ€éƒ¨åˆ†
    dynamic_quota = remaining_quota - future_min_quota
    dynamic_limit = (dynamic_quota / remaining_minutes) Ã— safety_factor
    safe_limit = min_load + dynamic_limit

# 3. é™åˆ¶åœ¨ [min_load, max_load] èŒƒå›´å†…
safe_limit = max(min_load, min(max_load, safe_limit))
```

**ç¤ºä¾‹**ï¼š
```
min_load = 10%
max_load = 90%
safety_factor = 0.9
remaining_quota = 41010 %Â·min
remaining_minutes = 1380 min

future_min_quota = 10% Ã— 1380 = 13800 %Â·min
dynamic_quota = 41010 - 13800 = 27210 %Â·min
dynamic_limit = (27210 / 1380) Ã— 0.9 = 17.7%
safe_limit = 10% + 17.7% = 27.7%
```

**å«ä¹‰**ï¼š
- ä¼˜å…ˆä¿è¯å‰©ä½™æ—¶é—´çš„æœ€ä½è´Ÿè½½ï¼ˆ10%ï¼‰
- å‰©ä½™é…é¢åŠ¨æ€åˆ†é…ï¼Œåº”ç”¨å®‰å…¨ç³»æ•°ï¼ˆ0.9ï¼‰
- æœ€ç»ˆé™åˆ¶ = æœ€ä½è´Ÿè½½ + åŠ¨æ€éƒ¨åˆ†

### è¾¹ç•Œå¤„ç†

#### æƒ…å†µ 1ï¼šé…é¢å……è¶³

```python
if remaining_quota >= future_min_quota:
    dynamic_quota = remaining_quota - future_min_quota
    dynamic_limit = (dynamic_quota / remaining_minutes) Ã— safety_factor
    safe_limit = min_load + dynamic_limit
```

**è¯´æ˜**ï¼š
- å‰©ä½™é…é¢å……è¶³ï¼Œå¯ä»¥åˆ†é…åŠ¨æ€éƒ¨åˆ†
- åº”ç”¨å®‰å…¨ç³»æ•°ï¼Œç•™å‡ºä½™é‡

#### æƒ…å†µ 2ï¼šé…é¢ä¸è¶³

```python
elif remaining_quota < future_min_quota:
    safe_limit = min_load
    logger.error("é…é¢ç®¡ç†å¤±è´¥ï¼å‰©ä½™é…é¢ä¸è¶³ï¼Œä½†ä»ä½¿ç”¨æœ€ä½è´Ÿè½½ä»¥ä¿è¯ç³»ç»Ÿè¿è¡Œ")
```

**è¯´æ˜**ï¼š
- å‰©ä½™é…é¢ä¸è¶³ä»¥æ”¯æŒæœ€ä½è´Ÿè½½
- ä»ä½¿ç”¨æœ€ä½è´Ÿè½½ï¼Œå‘å‡º ERROR è­¦å‘Š
- é¢„è®¡å°†è¶…é™ï¼Œéœ€è¦è°ƒæ•´å®‰å…¨ç³»æ•°

#### æƒ…å†µ 3ï¼šé…é¢è€—å°½

```python
if remaining_quota <= 0:
    safe_limit = min_load
    logger.error("é…é¢ç®¡ç†å¤±è´¥ï¼å‰©ä½™é…é¢è€—å°½ï¼Œä½†ä»ä½¿ç”¨æœ€ä½è´Ÿè½½ä»¥ä¿è¯ç³»ç»Ÿè¿è¡Œ")
```

**è¯´æ˜**ï¼š
- å‰©ä½™é…é¢è€—å°½
- ä»ä½¿ç”¨æœ€ä½è´Ÿè½½ï¼Œå‘å‡º ERROR è­¦å‘Š
- é¢„è®¡å°†è¶…é™ï¼Œéœ€è¦è°ƒæ•´å®‰å…¨ç³»æ•°

---

## å®Œæ•´ç¤ºä¾‹

### åœºæ™¯è®¾ç½®

**é…ç½®**ï¼š
- çª—å£æ—¶é•¿ï¼š24 å°æ—¶
- å¹³å‡é™åˆ¶ï¼š30%
- å®‰å…¨ç³»æ•°ï¼š0.9
- é‡‡é›†é—´éš”ï¼š5 ç§’

### æ—¶é—´çº¿

#### T = 0minï¼ˆå¯åŠ¨ï¼‰

```
æ•°æ®ç‚¹: 0
å®é™…è¿è¡Œæ—¶é•¿: 0min
å¹³å‡ CPU: 0%

æ€»é…é¢: 30% Ã— 1440min = 43200 %Â·min
å·²ç”¨é…é¢: 0% Ã— 0min = 0 %Â·min
å‰©ä½™é…é¢: 43200 - 0 = 43200 %Â·min
å‰©ä½™æ—¶é—´: 1440 - 0 = 1440min
ç›®æ ‡ CPU: 43200 / 1440 = 30%
å®‰å…¨é™åˆ¶: 30% Ã— 0.9 = 27%
```

#### T = 60minï¼ˆ1å°æ—¶ï¼‰

```
æ•°æ®ç‚¹: 720 (60min / 5s)
å®é™…è¿è¡Œæ—¶é•¿: 60min
å¹³å‡ CPU: 36.5%

æ€»é…é¢: 43200 %Â·min
å·²ç”¨é…é¢: 36.5% Ã— 60min = 2190 %Â·min
å‰©ä½™é…é¢: 43200 - 2190 = 41010 %Â·min
å‰©ä½™æ—¶é—´: 1440 - 60 = 1380min
ç›®æ ‡ CPU: 41010 / 1380 = 29.7%
å®‰å…¨é™åˆ¶: 29.7% Ã— 0.9 = 26.7%
```

**çŠ¶æ€**ï¼š
- âœ… æœªè¶…é™ï¼ˆå‰©ä½™é…é¢ > 0ï¼‰
- ğŸ“Š å»ºè®®ï¼šæœªæ¥ä¿æŒåœ¨ 26.7% ä»¥ä¸‹

#### T = 720minï¼ˆ12å°æ—¶ï¼‰

```
æ•°æ®ç‚¹: 8640
å®é™…è¿è¡Œæ—¶é•¿: 720min
å¹³å‡ CPU: 35%

æ€»é…é¢: 43200 %Â·min
å·²ç”¨é…é¢: 35% Ã— 720min = 25200 %Â·min
å‰©ä½™é…é¢: 43200 - 25200 = 18000 %Â·min
å‰©ä½™æ—¶é—´: 1440 - 720 = 720min
ç›®æ ‡ CPU: 18000 / 720 = 25%
å®‰å…¨é™åˆ¶: 25% Ã— 0.9 = 22.5%
```

**çŠ¶æ€**ï¼š
- âœ… æœªè¶…é™
- ğŸ“Š å»ºè®®ï¼šæœªæ¥ä¿æŒåœ¨ 22.5% ä»¥ä¸‹
- âš ï¸ æ³¨æ„ï¼šå®‰å…¨é™åˆ¶é™ä½äº†

#### T = 1440minï¼ˆ24å°æ—¶ï¼Œçª—å£å·²æ»¡ï¼‰

```
æ•°æ®ç‚¹: 17280
å®é™…è¿è¡Œæ—¶é•¿: 1440min
å¹³å‡ CPU: 28%

æ€»é…é¢: 43200 %Â·min
å·²ç”¨é…é¢: 28% Ã— 1440min = 40320 %Â·min
å‰©ä½™é…é¢: 43200 - 40320 = 2880 %Â·min
å‰©ä½™æ—¶é—´: 1440 - 1440 = 0min
ç›®æ ‡ CPU: 30% (å‰©ä½™é…é¢ > 0)
å®‰å…¨é™åˆ¶: 30% Ã— 0.9 = 27%
```

**çŠ¶æ€**ï¼š
- âœ… æœªè¶…é™
- ğŸ“Š å»ºè®®ï¼šå¯ä»¥ç»§ç»­ä¿æŒåœ¨ 27% ä»¥ä¸‹
- ğŸ‰ æˆåŠŸï¼š24 å°æ—¶å¹³å‡ 28% < 30%

---

## è¾¹ç•Œæƒ…å†µå¤„ç†

### 1. æ•°æ®ä¸è¶³

**æƒ…å†µ**ï¼šåˆšå¯åŠ¨ï¼Œæ•°æ®ç‚¹ < 10

**å¤„ç†**ï¼š
```python
if len(metrics) < 10:
    return {
        "total_quota": avg_limit * window_hours,
        "used_quota": 0.0,
        "remaining_quota": avg_limit * window_hours,
        "avg_cpu_percent": 0.0,
        "target_cpu_percent": avg_limit,
    }
```

### 2. å‰©ä½™é…é¢ä¸ºè´Ÿ

**æƒ…å†µ**ï¼šå·²è¶…é™

**å¤„ç†**ï¼š
```python
if remaining_quota < 0:
    # è®¡ç®—éœ€è¦é™ä½çš„å¹…åº¦
    over_usage = abs(remaining_quota)

    if remaining_hours > 0:
        # è¿˜æœ‰æ—¶é—´ï¼Œè®¡ç®—éœ€è¦é™ä½åˆ°å¤šå°‘
        target_cpu = max(0, (total_quota - used_quota) / remaining_hours)
    else:
        # æ²¡æœ‰æ—¶é—´äº†ï¼Œåœæ­¢ä½¿ç”¨
        target_cpu = 0
```

### 3. ç›®æ ‡ CPU è¶…è¿‡ 100%

**æƒ…å†µ**ï¼šå‰©ä½™é…é¢å¾ˆå¤§

**å¤„ç†**ï¼š
```python
target_cpu = max(0, min(100, remaining_quota / remaining_hours))
```

### 4. çª—å£å·²æ»¡

**æƒ…å†µ**ï¼šè¿è¡Œæ—¶é•¿ >= çª—å£æ—¶é•¿

**å¤„ç†**ï¼š
```python
# ä½¿ç”¨æ»šåŠ¨çª—å£ï¼Œè‡ªåŠ¨ä¸¢å¼ƒæ—§æ•°æ®
metrics = db.get_metrics_in_window(window_hours)

# è®¡ç®—å¹³å‡ CPUï¼ˆåªåŒ…å«çª—å£å†…çš„æ•°æ®ï¼‰
avg_cpu = sum(m["cpu_percent"] for m in metrics) / len(metrics)
```

---

## æ•°å­¦è¯æ˜

### å®šç†ï¼šå¦‚æœéµå¾ªå®‰å…¨é™åˆ¶ï¼Œåˆ™ä¸ä¼šè¶…é™

**å‡è®¾**ï¼š
- çª—å£æ—¶é•¿ï¼šT åˆ†é’Ÿ
- å¹³å‡é™åˆ¶ï¼šL%
- å·²è¿è¡Œæ—¶é•¿ï¼št åˆ†é’Ÿï¼ˆt < Tï¼‰
- å·²ç”¨é…é¢ï¼šU %Â·min
- å‰©ä½™æ—¶é—´ï¼šR = T - t åˆ†é’Ÿ
- ç›®æ ‡ CPUï¼šC = (LÃ—T - U) / R

**è¯æ˜**ï¼š
```
å¦‚æœæœªæ¥ R åˆ†é’Ÿä¿æŒåœ¨ C%ï¼š

æœªæ¥é…é¢ = C Ã— R
         = [(LÃ—T - U) / R] Ã— R
         = LÃ—T - U

æ€»é…é¢ = U + æœªæ¥é…é¢
       = U + (LÃ—T - U)
       = LÃ—T

å¹³å‡ CPU = æ€»é…é¢ / T
         = (LÃ—T) / T
         = L%

âˆ´ å¹³å‡ CPU = L%ï¼Œåˆšå¥½ç­‰äºé™åˆ¶
```

**ç»“è®º**ï¼š
- å¦‚æœéµå¾ªç›®æ ‡ CPUï¼Œå¹³å‡ CPU å°†ç­‰äºé™åˆ¶
- åº”ç”¨å®‰å…¨ç³»æ•°åï¼Œå¹³å‡ CPU å°†ä½äºé™åˆ¶
- å› æ­¤ä¸ä¼šè¶…é™ âœ…

---

## æ€»ç»“

### ç®—æ³•ä¼˜åŠ¿

1. **ç²¾ç¡®**ï¼šåŸºäºæ•°å­¦å…¬å¼ï¼Œç²¾ç¡®è®¡ç®—
2. **åŠ¨æ€**ï¼šæ ¹æ®å†å²æ•°æ®åŠ¨æ€è°ƒæ•´
3. **å®‰å…¨**ï¼šåº”ç”¨å®‰å…¨ç³»æ•°ï¼Œç•™å‡ºä½™é‡
4. **å®æ—¶**ï¼šæ»šåŠ¨çª—å£ï¼Œå®æ—¶åæ˜ æœ€è¿‘çŠ¶æ€

### å…³é”®è¦ç‚¹

1. **ä½¿ç”¨å®é™…è¿è¡Œæ—¶é•¿**ï¼šä¸è¦å‡è®¾æ•´ä¸ªçª—å£éƒ½åœ¨è¿è¡Œ
2. **æ»šåŠ¨çª—å£**ï¼šçª—å£éšæ—¶é—´ç§»åŠ¨ï¼Œä¸æ˜¯å›ºå®šçš„
3. **é…é¢å•ä½**ï¼šä½¿ç”¨"ç™¾åˆ†æ¯”Â·åˆ†é’Ÿ"ä½œä¸ºå•ä½ï¼ˆæ›´ç²¾ç»†çš„æ§åˆ¶ï¼‰
4. **å®‰å…¨ç³»æ•°**ï¼šç•™å‡ºä½™é‡ï¼Œåº”å¯¹çªå‘è´Ÿè½½

### é€‚ç”¨åœºæ™¯

- âœ… å…±äº«ä¸»æœº CPU é™åˆ¶
- âœ… äº‘æœåŠ¡å™¨ CPU é…é¢
- âœ… å®¹å™¨ CPU é™åˆ¶
- âœ… ä»»ä½•éœ€è¦æ§åˆ¶å¹³å‡ CPU ä½¿ç”¨ç‡çš„åœºæ™¯
